<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Search Results - PrimeNest Realty</title>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Poppins:wght@500;700&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <style>
    :root {
      --primary: #0b1c3f;
      --accent: #d4af37;
      --hover-gold: #b78c2b;
      --bg-white: #ffffff;
      --text-dark: #333;
      --muted: #7a7a7a;
      --font-heading: 'Poppins', sans-serif;
      --font-body: 'Open Sans', sans-serif;
      --shadow-light: 0 4px 15px rgba(0, 0, 0, 0.08);
      --shadow-medium: 0 8px 25px rgba(0, 0, 0, 0.12);
      --shadow-heavy: 0 12px 35px rgba(0, 0, 0, 0.18);
      --gradient-primary: linear-gradient(135deg, var(--primary), #1a365d);
      --gradient-accent: linear-gradient(135deg, var(--accent), var(--hover-gold));
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      scroll-behavior: smooth;
    }

    body {
      font-family: var(--font-body);
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
      color: var(--text-dark);
      line-height: 1.6;
    }

    header {
      position: sticky;
      top: 0;
      z-index: 1000;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow-light);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 2rem;
      transition: all 0.3s ease;
    }

    header .logo img {
      height: 45px;
      transition: transform 0.3s ease;
    }

    header .logo img:hover {
      transform: scale(1.05);
    }

    nav a {
      margin: 0 1rem;
      color: var(--text-dark);
      text-decoration: none;
      font-weight: 600;
      font-family: var(--font-heading);
      transition: all 0.3s ease;
      position: relative;
      padding: 0.5rem 0;
    }

    nav a:hover {
      color: var(--accent);
    }

    nav a::after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      bottom: 0;
      left: 50%;
      background: var(--gradient-accent);
      transition: all 0.3s ease;
      transform: translateX(-50%);
    }

    nav a:hover::after {
      width: 100%;
    }

    .search-results-header {
      background: var(--gradient-primary);
      color: white;
      padding: 4rem 2rem;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .search-results-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.05)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.08)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
      opacity: 0.3;
    }

    .search-results-header h1 {
      font-family: var(--font-heading);
      font-size: 3rem;
      margin-bottom: 1rem;
      position: relative;
      z-index: 2;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .search-results-header p {
      font-size: 1.2rem;
      margin-bottom: 1.5rem;
      position: relative;
      z-index: 2;
      opacity: 0.9;
    }

    .search-criteria {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      padding: 1.5rem;
      border-radius: 15px;
      margin-top: 1.5rem;
      display: inline-block;
      position: relative;
      z-index: 2;
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: var(--shadow-light);
    }

    .filters-section {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      padding: 2.5rem 2rem;
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 80px;
      z-index: 999;
    }

    .filters-container {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 2rem;
      align-items: end;
    }

    .filter-group {
      display: flex;
      flex-direction: column;
      position: relative;
    }

    .filter-group label {
      font-weight: 600;
      margin-bottom: 0.8rem;
      color: var(--text-dark);
      font-family: var(--font-heading);
      font-size: 0.95rem;
    }

    .filter-group select {
      padding: 1rem;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      background: white;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      box-shadow: var(--shadow-light);
      font-family: var(--font-body);
    }

    .filter-group select:focus {
      border-color: var(--accent);
      outline: none;
      box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
      transform: translateY(-2px);
    }

    .filter-group select:hover {
      border-color: var(--accent);
      transform: translateY(-1px);
    }

    .results-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 3rem 2rem;
    }

    .results-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 3rem;
      flex-wrap: wrap;
      gap: 2rem;
      padding: 2rem;
      background: white;
      border-radius: 20px;
      box-shadow: var(--shadow-medium);
    }

    .results-count {
      font-size: 1.3rem;
      color: var(--text-dark);
      font-weight: 600;
      font-family: var(--font-heading);
    }

    .results-count span {
      color: var(--accent);
      font-weight: 700;
    }

    .sort-options {
      display: flex;
      align-items: center;
      gap: 1rem;
      background: #f8fafc;
      padding: 1rem 1.5rem;
      border-radius: 12px;
      border: 1px solid #e2e8f0;
    }

    .sort-options label {
      font-weight: 600;
      color: var(--text-dark);
      font-family: var(--font-heading);
    }

    .sort-options select {
      padding: 0.8rem 1rem;
      border: 1px solid #cbd5e0;
      border-radius: 8px;
      background: white;
      font-size: 0.95rem;
      transition: all 0.3s ease;
    }

    .sort-options select:focus {
      border-color: var(--accent);
      outline: none;
      box-shadow: 0 0 0 2px rgba(212, 175, 55, 0.1);
    }

    .properties-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
      gap: 2.5rem;
    }

    .property-card {
      background: white;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: var(--shadow-light);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
      position: relative;
      border: 1px solid rgba(0, 0, 0, 0.05);
    }

    .property-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--gradient-accent);
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 1;
      border-radius: 20px;
    }

    .property-card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: var(--shadow-heavy);
    }

    .property-card:hover::before {
      opacity: 0.03;
    }

    .property-image-container {
      position: relative;
      overflow: hidden;
      height: 250px;
    }

    .property-card img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }

    .property-card:hover img {
      transform: scale(1.1);
    }

    .property-badge {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: var(--gradient-accent);
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      z-index: 2;
    }

    .card-content {
      padding: 2rem;
      position: relative;
      z-index: 2;
    }

    .property-price {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--accent);
      margin-bottom: 1rem;
      font-family: var(--font-heading);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .property-price::before {
      content: 'â‚¹';
      font-size: 1.2rem;
      opacity: 0.7;
    }

    .property-location {
      display: flex;
      align-items: center;
      margin-bottom: 1rem;
      color: var(--muted);
      font-size: 1.1rem;
    }

    .property-location i {
      margin-right: 0.8rem;
      color: var(--accent);
      font-size: 1.2rem;
    }

    .property-details {
      display: flex;
      align-items: center;
      margin-bottom: 1.5rem;
      color: var(--text-dark);
      font-weight: 500;
      font-size: 1.05rem;
    }

    .property-details i {
      margin-right: 0.8rem;
      color: var(--accent);
      font-size: 1.2rem;
    }

    .property-amenities {
      display: flex;
      flex-wrap: wrap;
      gap: 0.8rem;
      margin-bottom: 2rem;
    }

    .amenity-tag {
      background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), rgba(212, 175, 55, 0.05));
      color: var(--accent);
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
      border: 1px solid rgba(212, 175, 55, 0.2);
      transition: all 0.3s ease;
    }

    .amenity-tag:hover {
      background: var(--accent);
      color: white;
      transform: translateY(-2px);
    }

    .card-actions {
      display: flex;
      gap: 1rem;
    }

    .btn {
      padding: 1rem 1.5rem;
      border: none;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      text-align: center;
      flex: 1;
      font-family: var(--font-heading);
      font-size: 0.95rem;
      position: relative;
      overflow: hidden;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }

    .btn:hover::before {
      left: 100%;
    }

    .btn-primary {
      background: var(--gradient-accent);
      color: white;
      box-shadow: var(--shadow-light);
    }

    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-medium);
    }

    .btn-secondary {
      background: transparent;
      color: var(--accent);
      border: 2px solid var(--accent);
    }

    .btn-secondary:hover {
      background: var(--accent);
      color: white;
      transform: translateY(-3px);
      box-shadow: var(--shadow-medium);
    }

    .no-results {
      text-align: center;
      padding: 5rem 2rem;
      color: var(--muted);
      background: white;
      border-radius: 20px;
      box-shadow: var(--shadow-light);
      margin: 2rem 0;
    }

    .no-results i {
      font-size: 4rem;
      color: var(--accent);
      margin-bottom: 2rem;
      opacity: 0.7;
    }

    .no-results h3 {
      font-size: 2rem;
      margin-bottom: 1rem;
      color: var(--text-dark);
      font-family: var(--font-heading);
    }

    .no-results p {
      font-size: 1.1rem;
      margin-bottom: 2rem;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }

    .back-to-search {
      display: inline-block;
      margin-top: 1rem;
      padding: 1rem 2rem;
      background: var(--gradient-accent);
      color: white;
      text-decoration: none;
      border-radius: 12px;
      font-weight: 600;
      transition: all 0.3s ease;
      font-family: var(--font-heading);
    }

    .back-to-search:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-medium);
    }

    /* Contact Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 10000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(5px);
      animation: fadeIn 0.3s ease;
    }

    .modal-content {
      background: white;
      margin: 5% auto;
      padding: 0;
      border-radius: 20px;
      width: 90%;
      max-width: 500px;
      box-shadow: var(--shadow-heavy);
      animation: slideIn 0.3s ease;
      overflow: hidden;
    }

    .modal-header {
      background: var(--gradient-primary);
      color: white;
      padding: 2rem;
      text-align: center;
      position: relative;
    }

    .modal-header h2 {
      font-family: var(--font-heading);
      font-size: 1.8rem;
      margin-bottom: 0.5rem;
    }

    .modal-header p {
      opacity: 0.9;
      font-size: 1.1rem;
    }

    .close {
      position: absolute;
      right: 1.5rem;
      top: 1.5rem;
      color: white;
      font-size: 2rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.1);
    }

    .close:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: rotate(90deg);
    }

    .agent-info {
      padding: 2rem;
    }

    .agent-profile {
      display: flex;
      align-items: center;
      margin-bottom: 2rem;
      gap: 1.5rem;
    }

    .agent-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: var(--gradient-accent);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      color: white;
      font-weight: bold;
      flex-shrink: 0;
    }

    .agent-details h3 {
      font-family: var(--font-heading);
      font-size: 1.5rem;
      color: var(--text-dark);
      margin-bottom: 0.5rem;
    }

    .agent-details p {
      color: var(--muted);
      font-size: 1rem;
      margin-bottom: 0.3rem;
    }

    .agent-rating {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-top: 0.5rem;
    }

    .stars {
      color: #ffd700;
      font-size: 1.1rem;
    }

    .contact-methods {
      display: grid;
      gap: 1rem;
      margin-top: 2rem;
    }

    .contact-method {
      display: flex;
      align-items: center;
      padding: 1rem;
      background: #f8fafc;
      border-radius: 12px;
      transition: all 0.3s ease;
      cursor: pointer;
      border: 1px solid #e2e8f0;
    }

    .contact-method:hover {
      background: var(--accent);
      color: white;
      transform: translateY(-2px);
      box-shadow: var(--shadow-light);
    }

    .contact-method i {
      font-size: 1.3rem;
      margin-right: 1rem;
      width: 30px;
      text-align: center;
    }

    .contact-method .contact-info {
      flex: 1;
    }

    .contact-method .contact-info strong {
      display: block;
      font-size: 1rem;
      margin-bottom: 0.2rem;
    }

    .contact-method .contact-info span {
      font-size: 0.9rem;
      opacity: 0.8;
    }

    /* Lightbox Styling */
    #lightbox {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 9999;
      align-items: center;
      justify-content: center;
    }

    #lightbox img {
      max-width: 90%;
      max-height: 90%;
      margin: auto;
      border-radius: 12px;
      box-shadow: var(--shadow-heavy);
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideIn {
      from { transform: translateY(-50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .search-results-header h1 {
        font-size: 2.5rem;
      }
      
      .filters-container {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }
      
      .results-header {
        flex-direction: column;
        align-items: stretch;
        text-align: center;
        gap: 1.5rem;
      }
      
      .properties-grid {
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      .property-card {
        margin: 0 1rem;
      }

      .modal-content {
        width: 95%;
        margin: 10% auto;
      }

      .agent-profile {
        flex-direction: column;
        text-align: center;
      }
    }

    /* Loading Animation */
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(212, 175, 55, 0.3);
      border-radius: 50%;
      border-top-color: var(--accent);
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body>

  <header>
    <div class="logo">
      <img src="https://www.creativefabrica.com/wp-content/uploads/2020/09/25/luxury-real-estate-logo-design-Graphics-5672003-1.jpg" alt="PrimeNest Realty Logo" />
    </div>
    <nav>
      <a href="index.html">Home</a>
      <a href="index.html#featured">Properties</a>
      <a href="index.html#about">About</a>
      <a href="index.html#testimonials">Testimonials</a>
      <a href="index.html#contact">Contact</a>
    </nav>
  </header>

  <section class="search-results-header">
    <h1><i class="fas fa-search"></i> Search Results</h1>
    <p>Discover your perfect property from our premium collection</p>
    <div class="search-criteria" id="searchCriteria">
      <!-- Search criteria will be populated by JavaScript -->
    </div>
  </section>

  <section class="filters-section">
    <div class="filters-container">
      <div class="filter-group">
        <label for="filterLocation"><i class="fas fa-map-marker-alt"></i> Location</label>
        <select id="filterLocation">
          <option value="">All Locations</option>
          <option value="Chennai">Chennai</option>
          <option value="Bangalore">Bangalore</option>
          <option value="Hyderabad">Hyderabad</option>
          <option value="Mumbai">Mumbai</option>
          <option value="Cochin">Cochin</option>
        </select>
      </div>

      <div class="filter-group">
        <label for="filterType"><i class="fas fa-building"></i> Property Type</label>
        <select id="filterType">
          <option value="">All Types</option>
          <option value="Apartment">Apartment</option>
          <option value="Villa">Villa</option>
          <option value="Studio">Studio</option>
          <option value="Commercial">Commercial</option>
        </select>
      </div>

      <div class="filter-group">
        <label for="filterBedrooms"><i class="fas fa-bed"></i> Bedrooms</label>
        <select id="filterBedrooms">
          <option value="">Any</option>
          <option value="1">1+</option>
          <option value="2">2+</option>
          <option value="3">3+</option>
          <option value="4">4+</option>
        </select>
      </div>

      <div class="filter-group">
        <label for="filterPriceRange"><i class="fas fa-rupee-sign"></i> Max Price</label>
        <select id="filterPriceRange">
          <option value="">Any Price</option>
          <option value="5000000">Under â‚¹50 Lakhs</option>
          <option value="10000000">Under â‚¹1 Crore</option>
          <option value="20000000">Under â‚¹2 Crores</option>
          <option value="50000000">Under â‚¹5 Crores</option>
        </select>
      </div>
    </div>
  </section>

  <div class="results-container">
    <div class="results-header">
      <div class="results-count" id="resultsCount">
        <div class="loading"></div> Loading properties...
      </div>
      <div class="sort-options">
        <label for="sortBy"><i class="fas fa-sort"></i> Sort by:</label>
        <select id="sortBy">
          <option value="price-low">Price: Low to High</option>
          <option value="price-high">Price: High to Low</option>
          <option value="newest">Newest First</option>
          <option value="size-large">Size: Largest First</option>
        </select>
      </div>
    </div>

    <div class="properties-grid" id="propertiesGrid">
      <!-- Properties will be populated by JavaScript -->
    </div>

    <div class="no-results" id="noResults" style="display: none;">
      <i class="fas fa-search"></i>
      <h3>No Properties Found</h3>
      <p>We couldn't find any properties matching your search criteria. Try adjusting your filters or search terms to discover more options.</p>
      <a href="index.html#search" class="back-to-search">
        <i class="fas fa-arrow-left"></i> Refine Your Search
      </a>
    </div>
  </div>

  <!-- Contact Modal -->
  <div id="contactModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <span class="close">&times;</span>
        <h2><i class="fas fa-user-tie"></i> Contact Agent</h2>
        <p>Get in touch with our property specialist</p>
      </div>
      <div class="agent-info">
        <div class="agent-profile">
          <div class="agent-avatar" id="agentAvatar">RS</div>
          <div class="agent-details">
            <h3 id="agentName">Rajesh Sharma</h3>
            <p id="agentTitle">Senior Property Consultant</p>
            <p id="agentExperience">8+ years experience</p>
            <div class="agent-rating">
              <div class="stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
              </div>
              <span>(4.9/5 rating)</span>
            </div>
          </div>
        </div>
        
        <div class="contact-methods">
          <div class="contact-method" onclick="window.open('tel:+919876543210')">
            <i class="fas fa-phone" style="color: #10b981;"></i>
            <div class="contact-info">
              <strong>Call Now</strong>
              <span>+91 98765 43210</span>
            </div>
          </div>
          
          <div class="contact-method" onclick="window.open('https://wa.me/919876543210?text=Hi, I am interested in the property')">
            <i class="fab fa-whatsapp" style="color: #25d366;"></i>
            <div class="contact-info">
              <strong>WhatsApp</strong>
              <span>Quick response guaranteed</span>
            </div>
          </div>
          
          <div class="contact-method" onclick="window.open('mailto:rajesh@primenest.com?subject=Property Inquiry')">
            <i class="fas fa-envelope" style="color: #3b82f6;"></i>
            <div class="contact-info">
              <strong>Email</strong>
              <span>rajesh@primenest.com</span>
            </div>
          </div>
          
          <div class="contact-method" onclick="scheduleVisit()">
            <i class="fas fa-calendar-alt" style="color: #f59e0b;"></i>
            <div class="contact-info">
              <strong>Schedule Visit</strong>
              <span>Book a property tour</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Lightbox Modal -->
  <div id="lightbox" onclick="this.style.display='none'">
    <img id="lightbox-img" src="" alt="Full Property View" />
  </div>

  <script>
    // Sample property data with agent information
    const allProperties = [
      {
        id: 1,
        image: "https://www.latitudemedcenter.com/wp-content/uploads/2019/03/penthouses3.jpg",
        price: 1200000,
        location: "Bandra, Mumbai",
        city: "Mumbai",
        bedrooms: 4,
        sqft: 3500,
        type: "Apartment",
        amenities: ["Swimming Pool", "Gym", "Parking", "Security"],
        description: "Luxury penthouse with stunning city views",
        badge: "Premium",
        agent: {
          name: "Priya Mehta",
          avatar: "PM",
          title: "Luxury Property Specialist",
          experience: "12+ years experience",
          phone: "+91 98765 43210",
          email: "priya@primenest.com"
        }
      },
      {
        id: 2,
        image: "https://cdn.homedit.com/wp-content/uploads/2019/05/Luxury-NYC-apartment-tour-how-to-decorate-a-luxury-living.jpg",
        price: 9800000,
        location: "Tambaram, Chennai",
        city: "Chennai",
        bedrooms: 3,
        sqft: 2800,
        type: "Villa",
        amenities: ["Swimming Pool", "Garden", "Parking"],
        description: "Modern villa with contemporary design",
        badge: "New",
        agent: {
          name: "Suresh Kumar",
          avatar: "SK",
          title: "Villa Specialist",
          experience: "10+ years experience",
          phone: "+91 98765 43211",
          email: "suresh@primenest.com"
        }
      },
      {
        id: 3,
        image: "https://res.cloudinary.com/g5-assets-cld/image/upload/x_0,y_491,h_4413,w_7356,c_crop/q_auto,f_auto,fl_lossy,g_center,h_1200,w_2000/g5/g5-c-5g13txeqo-mark-taylor-companies-client/g5-cl-1j73ew2zby-the-core-scottsdale/uploads/DSC_7198-Edit-2_1_n06pxw.jpg",
        price: 6200000,
        location: "Ernakulam, Cochin",
        city: "Cochin",
        bedrooms: 2,
        sqft: 1600,
        type: "Apartment",
        amenities: ["Gym", "Parking", "Security"],
        description: "Waterfront apartment with scenic views",
        badge: "Featured",
        agent: {
          name: "Anjali Nair",
          avatar: "AN",
          title: "Waterfront Property Expert",
          experience: "7+ years experience",
          phone: "+91 98765 43212",
          email: "anjali@primenest.com"
        }
      },
      {
        id: 4,
        image: "https://pix10.agoda.net/hotelImages/103/1030438/1030438_15081214210034117680.png?s=1024x768",
        price: 8400000,
        location: "Mylapore, Chennai",
        city: "Chennai",
        bedrooms: 3,
        sqft: 2400,
        type: "Apartment",
        amenities: ["Swimming Pool", "Security", "Parking"],
        description: "Heritage area apartment with modern amenities",
        badge: "Heritage",
        agent: {
          name: "Rajesh Sharma",
          avatar: "RS",
          title: "Heritage Property Consultant",
          experience: "8+ years experience",
          phone: "+91 98765 43213",
          email: "rajesh@primenest.com"
        }
      },
      {
        id: 5,
        image: "https://toastdesign.com.au/wp-content/uploads/luxury_apartment_branding.jpg",
        price: 7000000,
        location: "Charminar, Hyderabad",
        city: "Hyderabad",
        bedrooms: 3,
        sqft: 2100,
        type: "Apartment",
        amenities: ["Gym", "Security"],
        description: "Historic area with modern living spaces",
        badge: "Historic",
        agent: {
          name: "Deepika Reddy",
          avatar: "DR",
          title: "Urban Property Specialist",
          experience: "9+ years experience",
          phone: "+91 98765 43214",
          email: "deepika@primenest.com"
        }
      },
      {
        id: 6,
        image: "https://i.pinimg.com/originals/2d/ea/50/2dea50821523d19c65e9191cdb6c0f29.jpg",
        price: 8000000,
        location: "Guindy, Chennai",
        city: "Chennai",
        bedrooms: 4,
        sqft: 3000,
        type: "Villa",
        amenities: ["Swimming Pool", "Garden", "Gym", "Parking"],
        description: "Spacious villa in prime location",
        badge: "Prime",
        agent: {
          name: "Vikram Singh",
          avatar: "VS",
          title: "Prime Location Expert",
          experience: "11+ years experience",
          phone: "+91 98765 43215",
          email: "vikram@primenest.com"
        }
      },
      {
        id: 7,
        image: "https://www.latitudemedcenter.com/wp-content/uploads/2019/03/penthouses3.jpg",
        price: 4500000,
        location: "Koramangala, Bangalore",
        city: "Bangalore",
        bedrooms: 2,
        sqft: 1800,
        type: "Apartment",
        amenities: ["Gym", "Parking"],
        description: "Tech hub apartment perfect for professionals",
        badge: "Tech Hub",
        agent: {
          name: "Arjun Patel",
          avatar: "AP",
          title: "Tech District Specialist",
          experience: "6+ years experience",
          phone: "+91 98765 43216",
          email: "arjun@primenest.com"
        }
      },
      {
        id: 8,
        image: "https://cdn.homedit.com/wp-content/uploads/2019/05/Luxury-NYC-apartment-tour-how-to-decorate-a-luxury-living.jpg",
        price: 12000000,
        location: "Banjara Hills, Hyderabad",
        city: "Hyderabad",
        bedrooms: 4,
        sqft: 3800,
        type: "Villa",
        amenities: ["Swimming Pool", "Garden", "Security", "Parking"],
        description: "Luxury villa in upscale neighborhood",
        badge: "Luxury",
        agent: {
          name: "Meera Gupta",
          avatar: "MG",
          title: "Luxury Villa Expert",
          experience: "15+ years experience",
          phone: "+91 98765 43217",
          email: "meera@primenest.com"
        }
      }
    ];

    let filteredProperties = [...allProperties];
    let currentAgent = null;

    // Get URL parameters
    function getUrlParams() {
      const params = new URLSearchParams(window.location.search);
      return {
        location: params.get('location') || '',
        type: params.get('type') || '',
        bedrooms: params.get('bedrooms') || '',
        price: params.get('price') || '',
        amenities: params.get('amenities') || ''
      };
    }

    // Display search criteria
    function displaySearchCriteria() {
      const params = getUrlParams();
      const criteria = [];
      
      if (params.location) criteria.push(`<i class="fas fa-map-marker-alt"></i> ${params.location}`);
      if (params.type) criteria.push(`<i class="fas fa-building"></i> ${params.type}`);
      if (params.bedrooms) criteria.push(`<i class="fas fa-bed"></i> ${params.bedrooms}+ BHK`);
      if (params.price) criteria.push(`<i class="fas fa-rupee-sign"></i> Under â‚¹${parseInt(params.price).toLocaleString()}`);
      if (params.amenities) criteria.push(`<i class="fas fa-swimming-pool"></i> ${params.amenities}`);
      
      const criteriaElement = document.getElementById('searchCriteria');
      if (criteria.length > 0) {
        criteriaElement.innerHTML = `<strong><i class="fas fa-filter"></i> Active Filters:</strong><br>${criteria.join(' â€¢ ')}`;
      } else {
        criteriaElement.innerHTML = '<strong><i class="fas fa-home"></i> Showing all premium properties</strong>';
      }
    }

    // Filter properties based on criteria
    function filterProperties(properties, filters) {
      return properties.filter(property => {
        if (filters.location && !property.city.toLowerCase().includes(filters.location.toLowerCase())) {
          return false;
        }
        
        if (filters.type && property.type !== filters.type) {
          return false;
        }
        
        if (filters.bedrooms && property.bedrooms < parseInt(filters.bedrooms)) {
          return false;
        }
        
        if (filters.price && property.price > parseInt(filters.price)) {
          return false;
        }
        
        if (filters.amenities) {
          const hasAmenity = property.amenities.some(amenity => 
            amenity.toLowerCase().includes(filters.amenities.toLowerCase())
          );
          if (!hasAmenity) return false;
        }
        
        return true;
      });
    }

    // Sort properties
    function sortProperties(properties, sortBy) {
      const sorted = [...properties];
      
      switch (sortBy) {
        case 'price-low':
          return sorted.sort((a, b) => a.price - b.price);
        case 'price-high':
          return sorted.sort((a, b) => b.price - a.price);
        case 'size-large':
          return sorted.sort((a, b) => b.sqft - a.sqft);
        case 'newest':
        default:
          return sorted;
      }
    }

    // Render properties
    function renderProperties(properties) {
      const grid = document.getElementById('propertiesGrid');
      const noResults = document.getElementById('noResults');
      const resultsCount = document.getElementById('resultsCount');
      
      if (properties.length === 0) {
        grid.style.display = 'none';
        noResults.style.display = 'block';
        resultsCount.innerHTML = '<i class="fas fa-exclamation-circle"></i> No properties found';
        return;
      }
      
      grid.style.display = 'grid';
      noResults.style.display = 'none';
      resultsCount.innerHTML = `<span>${properties.length}</span> ${properties.length === 1 ? 'property' : 'properties'} found`;
      
      grid.innerHTML = properties.map(property => `
        <div class="property-card" data-property-id="${property.id}">
          <div class="property-image-container">
            <img src="${property.image}" alt="${property.description}" onclick="openLightbox(this)" />
            <div class="property-badge">${property.badge}</div>
          </div>
          <div class="card-content">
            <div class="property-price">${property.price.toLocaleString()}</div>
            <div class="property-location">
              <i class="fas fa-map-marker-alt"></i>
              ${property.location}
            </div>
            <div class="property-details">
              <i class="fas fa-home"></i>
              ${property.bedrooms} BHK â€¢ ${property.sqft.toLocaleString()} sqft
            </div>
            <div class="property-amenities">
              ${property.amenities.slice(0, 3).map(amenity => 
                `<span class="amenity-tag"><i class="fas fa-check"></i> ${amenity}</span>`
              ).join('')}
              ${property.amenities.length > 3 ? `<span class="amenity-tag"><i class="fas fa-plus"></i> ${property.amenities.length - 3} more</span>` : ''}
            </div>
            <div class="card-actions">
              <button class="btn btn-primary" onclick="viewDetails(${property.id})">
                <i class="fas fa-eye"></i> View Details
              </button>
              <button class="btn btn-secondary" onclick="showContactModal(${property.id})">
                <i class="fas fa-phone"></i> Contact Agent
              </button>
            </div>
          </div>
        </div>
      `).join('');
    }

    // Apply filters
    function applyFilters() {
      const filters = {
        location: document.getElementById('filterLocation').value,
        type: document.getElementById('filterType').value,
        bedrooms: document.getElementById('filterBedrooms').value,
        price: document.getElementById('filterPriceRange').value
      };
      
      filteredProperties = filterProperties(allProperties, filters);
      const sortBy = document.getElementById('sortBy').value;
      const sortedProperties = sortProperties(filteredProperties, sortBy);
      renderProperties(sortedProperties);
    }

    // Show contact modal
    function showContactModal(propertyId) {
      const property = allProperties.find(p => p.id === propertyId);
      if (!property) return;

      currentAgent = property.agent;
      const modal = document.getElementById('contactModal');
      
      // Update agent information
      document.getElementById('agentName').textContent = currentAgent.name;
      document.getElementById('agentAvatar').textContent = currentAgent.avatar;
      document.getElementById('agentTitle').textContent = currentAgent.title;
      document.getElementById('agentExperience').textContent = currentAgent.experience;
      
      // Update contact methods with actual agent info
      const contactMethods = document.querySelectorAll('.contact-method');
      contactMethods[0].onclick = () => window.open(`tel:${currentAgent.phone}`);
      contactMethods[1].onclick = () => window.open(`https://wa.me/${currentAgent.phone.replace(/[^0-9]/g, '')}?text=Hi ${currentAgent.name}, I am interested in the ${property.type} at ${property.location}`);
      contactMethods[2].onclick = () => window.open(`mailto:${currentAgent.email}?subject=Property Inquiry - ${property.location}&body=Hi ${currentAgent.name},%0A%0AI am interested in the ${property.bedrooms} BHK ${property.type} at ${property.location} priced at â‚¹${property.price.toLocaleString()}.%0A%0APlease contact me for more details.%0A%0AThank you.`);
      
      modal.style.display = 'block';
    }

    // Schedule visit function
    function scheduleVisit() {
      alert(`Thank you for your interest! ${currentAgent.name} will contact you within 24 hours to schedule a property visit.`);
      document.getElementById('contactModal').style.display = 'none';
    }

    // View details function
    function viewDetails(propertyId) {
      const property = allProperties.find(p => p.id === propertyId);
      alert(`Property Details:\n\n${property.description}\nLocation: ${property.location}\nPrice: â‚¹${property.price.toLocaleString()}\nSize: ${property.bedrooms} BHK, ${property.sqft} sqft\nAmenities: ${property.amenities.join(', ')}`);
    }

    // Lightbox functionality
    function openLightbox(img) {
      document.getElementById("lightbox-img").src = img.src;
      document.getElementById("lightbox").style.display = "flex";
    }

    // Modal close functionality
    document.addEventListener('DOMContentLoaded', function() {
      const modal = document.getElementById('contactModal');
      const closeBtn = document.querySelector('.close');
      
      closeBtn.onclick = function() {
        modal.style.display = 'none';
      }
      
      window.onclick = function(event) {
        if (event.target == modal) {
          modal.style.display = 'none';
        }
      }
    });

    // Initialize page
    function init() {
      displaySearchCriteria();
      
      // Apply initial filters from URL
      const params = getUrlParams();
      if (params.location) document.getElementById('filterLocation').value = params.location;
      if (params.type) document.getElementById('filterType').value = params.type;
      if (params.bedrooms) document.getElementById('filterBedrooms').value = params.bedrooms;
      
      // Simulate loading delay
      setTimeout(() => {
        filteredProperties = filterProperties(allProperties, params);
        renderProperties(filteredProperties);
      }, 1000);
      
      // Add event listeners
      document.getElementById('filterLocation').addEventListener('change', applyFilters);
      document.getElementById('filterType').addEventListener('change', applyFilters);
      document.getElementById('filterBedrooms').addEventListener('change', applyFilters);
      document.getElementById('filterPriceRange').addEventListener('change', applyFilters);
      document.getElementById('sortBy').addEventListener('change', applyFilters);
    }

    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', init);
  </script>

</body>
</html>
